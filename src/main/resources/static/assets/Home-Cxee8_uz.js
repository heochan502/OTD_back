import{_ as R,r as y,c as j,o as H,a as v,b as p,F as D,d as A,t as r,g as Z,e as C,f as ee,u as te,h as J,w as Q,i as s,j as n,k as ae,V as se,l as i,m as W,n as M,p as x,q as z,s as K,v as Y,x as B,y as P,z as O,A as q,B as le,C as ne,D as oe,E as re,G,H as ie,R as ue}from"./index-BjtKrO39.js";const ce={__name:"DailyWeather",setup(_){const c=y([]),l=y(null),h=async()=>{const o=await Z();c.value=o.data},w=o=>`${parseInt(o.substring(0,2),10)}ì‹œ`,u=j(()=>c.value.map(o=>({...o,time:w(o.fcstTime),emoji:f[o.pty]||f[o.sky]||""}))),f={ë§‘ìŒ:"â˜€ï¸",íë¦¼:"â˜ï¸","êµ¬ë¦„ ë§ìŒ":"ğŸŒ¤ï¸",ë¹„:"ğŸŒ§ï¸",ëˆˆ:"â„ï¸","ë¹„/ëˆˆ":"ğŸŒ¨ï¸"};return H(async()=>{await h();const o=l.value;o.addEventListener("wheel",g=>{g.preventDefault(),o.scrollLeft+=g.deltaY})}),(o,g)=>(p(),v("div",{class:"info",ref_key:"scrollRef",ref:l},[(p(!0),v(D,null,A(u.value,d=>(p(),v("div",{class:"item",key:d.fcstTime},r(d.time)+" "+r(d.emoji)+" "+r(d.tmp)+"â„ƒ ",1))),128))],512))}},de=R(ce,[["__scopeId","data-v-4d95ab11"]]);C.defaults.baseURL="/api/OTD";const me=_=>C.post("/location/save",{localId:_}).catch(c=>c.response),ve=_=>C.get("/location/search",{params:{keyword:_}}).catch(c=>c.response),pe=()=>C.get("/location").catch(_=>_.response),_e=_=>C.put("/location/select",{localId:_}),fe=_=>C.delete(`/location/delete/${_}`).catch(c=>c.response),X=ee("weather",{state:()=>({refresh:!1}),actions:{homeRefresh(){this.refresh=!this.refresh}}}),ge={class:"search-box card shadow-sm p-4 mb-4"},ye={class:"text-end mt-3"},he={class:"list card p-4 shadow-sm"},we={class:"list-group list-group-flush"},ke={class:"location-name"},$e={class:"list-btn d-flex gap-2"},xe=["onClick"],be=["onClick"],De={__name:"Location",emits:["close"],setup(_,{emit:c}){const l=c,h=X(),w=te(),u=y(""),f=y(null),o=J({items:[],autocomplete:[],list:[]}),g=y(!1),d=y({visible:!1,message:""}),k=y(""),m=y(null),$=y(null),L=y(""),S=(t,e,a=null,U="")=>{g.value=!0,k.value=t,m.value=e,$.value=a,L.value=U},E=async()=>{if(g.value=!1,m.value==="select"){const t=await _e($.value);t&&t.status===200&&(h.homeRefresh(),l("close"),w.push("/"))}else m.value==="remove"&&(await fe($.value)).status===200&&(b("ì‚­ì œë˜ì—ˆìŠµë‹ˆë‹¤."),await V())},b=t=>{d.value.message=t,d.value.visible=!0},I=async()=>{if(!u.value.trim()){b("ì§€ì—­ëª…ì„ ì…ë ¥í•˜ì„¸ìš”");return}const t=await ve(u.value);o.items=t.data,o.autocomplete=t.data.map(e=>`${e.city} ${e.county} ${e.town}`)},F=t=>{u.value=t,f.value=o.items.find(e=>`${e.city} ${e.county} ${e.town}`===t)},T=async()=>{if(!f.value||!f.value.localId){b("ì§€ì—­ ì •ë³´ê°€ ì¼ì¹˜í•˜ì§€ ì•ŠìŠµë‹ˆë‹¤.");return}await me(f.value.localId),b("ì§€ì—­ì´ ì €ì¥ë˜ì—ˆìŠµë‹ˆë‹¤."),await V()},V=async()=>{const t=await pe();o.list=t.data};return Q(u,async t=>{if(!t||typeof t!="string"||!t.trim())return{};await I()}),H(()=>{V()}),(t,e)=>(p(),v(D,null,[s("div",ge,[n(se,{modelValue:u.value,"onUpdate:modelValue":[e[0]||(e[0]=a=>u.value=a),F],items:o.autocomplete,label:"êµ¬ / ë™ì„ ì…ë ¥í•˜ì„¸ìš”",variant:"solo-filled",placeholder:"ì˜ˆ) OOêµ¬ OOë™","menu-props":{maxHeight:"250px"},onKeyup:ae(I,["enter"])},null,8,["modelValue","items"]),s("div",ye,[s("button",{class:"btn btn-primary",onClick:T}," + ê²€ìƒ‰í•œ ì§€ì—­ ì €ì¥ + "),n(B,{modelValue:d.value.visible,"onUpdate:modelValue":e[2]||(e[2]=a=>d.value.visible=a),"max-width":"300","max-height":"150"},{default:i(()=>[n(W,null,{default:i(()=>[n(M,null,{default:i(()=>[x(r(d.value.message),1)]),_:1}),n(z,null,{default:i(()=>[n(K),n(Y,{class:"primary",text:"",onClick:e[1]||(e[1]=a=>d.value.visible=!1)},{default:i(()=>e[5]||(e[5]=[x("í™•ì¸")])),_:1,__:[5]})]),_:1})]),_:1})]),_:1},8,["modelValue"])])]),s("div",he,[e[9]||(e[9]=s("h3",null,"ì €ì¥í•œ ì§€ì—­ ëª©ë¡",-1)),s("ul",we,[(p(!0),v(D,null,A(o.list,(a,U)=>(p(),v("li",{class:"list-group-item d-flex align-items-center justify-content-between",key:U},[s("span",ke,r(a.city)+" "+r(a.county)+" "+r(a.town),1),s("div",$e,[s("button",{class:"btn list-btn btn-outline-primary btn-sm",onClick:N=>S(`${a.city} ${a.county} ${a.town}ì´(ê°€) ì„ íƒë˜ì—ˆìŠµë‹ˆë‹¤. í™ˆ í™”ë©´ì— ë“±ë¡í•˜ì‹œê² ìŠµë‹ˆê¹Œ?`,"select",a.localId,`${a.city} ${a.county} ${a.town}`)}," ë“±ë¡ ",8,xe),s("button",{class:"btn list-btn btn-outline-danger btn-sm",onClick:N=>S("ì„ íƒí•œ ì§€ì—­ì„ ì‚­ì œí•˜ì‹œê² ìŠµë‹ˆê¹Œ?","remove",a.localId)}," ì‚­ì œ ",8,be),n(B,{modelValue:g.value,"onUpdate:modelValue":e[4]||(e[4]=N=>g.value=N),"max-width":"400"},{default:i(()=>[n(W,null,{default:i(()=>[n(P,null,{default:i(()=>e[6]||(e[6]=[x("í™•ì¸")])),_:1,__:[6]}),n(M,null,{default:i(()=>[x(r(k.value),1)]),_:1}),n(z,null,{default:i(()=>[n(K),n(Y,{color:"dark",text:"",onClick:e[3]||(e[3]=N=>g.value=!1)},{default:i(()=>e[7]||(e[7]=[x("ì·¨ì†Œ")])),_:1,__:[7]}),n(Y,{color:"primary",text:"",onClick:E},{default:i(()=>e[8]||(e[8]=[x("í™•ì¸")])),_:1,__:[8]})]),_:1})]),_:1})]),_:1},8,["modelValue"])])]))),128))])])],64))}},Ve=R(De,[["__scopeId","data-v-dcf54b25"]]),Ce={class:"weather-alert"},Le={key:0},je={key:1},Re={class:"header flex justify-between items-center w-full px-4 pt-2"},Se={class:"d-none d-sm-flex"},Ie={key:0,class:"weather-content"},Te={class:"weather-left"},Ne={class:"weather-location"},We={class:"condition"},Me={class:"weather-right"},Be={class:"warp"},He={class:"weather-icon"},Ee={class:"temperature"},Fe={class:"max_min_temperature"},Ue={class:"humidity"},Ye={__name:"weather",setup(_){const c=X(),l=y(null),h=y(!1),w=y(""),u=y({daily:!1,location:!1}),f=new Date,o=f.getFullYear(),g=f.getMonth()+1,d=f.getDay(),k=`${o}ë…„ ${g}ì›” ${d}ì¼`,m=t=>{u.value[t]=!0},$=async()=>{const t=await ne();console.log("Weather res.data",t.data),l.value=t.data,l.value.ncstPty!=="ì—†ìŒ"&&(l.value.villageSky=l.value.ncstPty)},L=async()=>{const t=await le();w.value=t.data.memberNick},S=j(()=>{const t=l.value.villagePop,e="ì˜¤ëŠ˜ì€ ë¹„ì˜¬ í™•ë¥ ì´ "+l.value.villagePop+"% !!",a=l.value.villageSky;return t<10&&a==="ë§‘ìŒ"||t<10&&a==="êµ¬ë¦„ ë§ìŒ"?"ì˜¤ëŠ˜ì˜ ë‚ ì”¨ëŠ” "+a+"ì´ë„¤ìš”! ì¦ê±°ìš´ í•˜ë£¨ ë³´ë‚´ì„¸ìš”.":t<30&&(a==="ë§‘ìŒ"||a==="êµ¬ë¦„ ë§ìŒ"||a==="íë¦¼")?e+"ê±±ì • ë˜ì‹ ë‹¤ë©´ ìš°ì‚°ì„ ì±™ê¸°ê¸¸ ì¶”ì²œí•´ìš”!":t<50&&(a==="íë¦¼"||a==="ë¹„")?e+"ë¹„ê°€ ì˜¬ ìˆ˜ë„ ìˆìœ¼ë‹ˆ íœ´ëŒ€í•˜ê¸° í¸í•œ ìš°ì‚° ì±™ê¸°ê¸¸ ì¶”ì²œí•´ìš”!":t<90&&(a==="íë¦¼"||a==="ë¹„")?e+"ìš°ì‚° ì±™ê¸°ì…¨ë‚˜ìš”? ìš°ì‚° ì±™ê²¨ê°€ì„¸ìš”!":t>90||a==="ë¹„"?e+"ìš°ì‚°ì„ ê¼­ ì±™ê¸°ê³  ë¹—ê¸¸ ì¡°ì‹¬í•˜ì„¸ìš”!":"ì˜¤ëŠ˜ í•˜ë£¨ë„ í™”ì´íŒ…!"}),E=()=>h.value=!h.value,b={ë§‘ìŒ:"â˜€ï¸",íë¦¼:"â˜ï¸","êµ¬ë¦„ ë§ìŒ":"ğŸŒ¤ï¸",ë¹„:"ğŸŒ§ï¸",ëˆˆ:"â„ï¸","ë¹„/ëˆˆ":"ğŸŒ¨ï¸"},I=j(()=>b[l.value?.ncstPty]||b[l.value?.villageSky]),F=j(()=>{const t=new Date().getHours();return t>6&&t<19?"morning":t<22?"evening":"night"}),T={"ë§‘ìŒ-morning":"url(/image/weather/clear_morning.jpg)","ë§‘ìŒ-evening":"url(/image/weather/clear_afternoon.jpg)","ë§‘ìŒ-night":"url(/image/weather/clear_night.jpg)","êµ¬ë¦„ ë§ìŒ-morning":"url(/image/weather/littlecloudy_morning.jpg)","êµ¬ë¦„ ë§ìŒ-evening":"url(/image/weather/littlecloudy.jpg)","êµ¬ë¦„ ë§ìŒ-night":"url(/image/weather/littlecloudy_night.jpg)","íë¦¼-morning":"url(/image/weather/cloudy.jpg)","íë¦¼-evening":"url(/image/weather/cloudy.jpg)","íë¦¼-night":"url(/image/weather/cloudy_night.jpg)","ë¹„-morning":"url(/image/weather/rain.jpg)","ë¹„-evening":"url(/image/weather/rain.jpg)","ë¹„-night":"url(/image/weather/rain.jpg)",default:"url(/image/loading.gif)"},V=j(()=>{const t=l.value?.villageSky||"",e=F.value;return T[`${t}-${e}`]||T.default});return H(async()=>{L(),await $()}),Q(()=>c.refresh,async()=>{await $()}),(t,e)=>(p(),v(D,null,[s("div",Ce,[l.value?(p(),v("div",Le,[s("strong",null,r(w.value===""||w.value===void 0?"":w.value+"ë‹˜~"),1),x(r(S.value),1)])):(p(),v("div",je,"ë¡œë”©ì¤‘. . ."))]),s("div",Re,[e[8]||(e[8]=s("span",{class:"live px-4 py-1 text-white font-semibold text-sm"}," ì‹¤ì‹œê°„ ë‚ ì”¨ ì •ë³´ ",-1)),s("button",{onClick:E,class:"menu px-2 py-1 text-sm font-bold"}," â˜° ë‚ ì”¨ ë©”ë‰´ "),h.value?(p(),v("button",{key:0,class:"menu-list",onClick:e[1]||(e[1]=a=>m("daily"))},[e[5]||(e[5]=x(" ì‹œê°„ë³„ ë‚ ì”¨ ")),n(B,{modelValue:u.value.daily,"onUpdate:modelValue":e[0]||(e[0]=a=>u.value.daily=a),"max-width":"1000","min-height":"100"},{default:i(()=>[n(W,null,{default:i(()=>[n(P,{class:"text-h8"},{default:i(()=>[x(r(k)+" ë‚ ì”¨")]),_:1}),n(M,null,{default:i(()=>[n(de)]),_:1})]),_:1})]),_:1},8,["modelValue"])])):O("",!0),h.value?(p(),v("button",{key:1,class:"menu-list",onClick:e[4]||(e[4]=a=>m("location"))},[e[7]||(e[7]=x(" ì§€ì—­ ë³€ê²½ ")),n(B,{modelValue:u.value.location,"onUpdate:modelValue":e[3]||(e[3]=a=>u.value.location=a),"max-width":"1000","min-height":"200"},{default:i(()=>[n(W,null,{default:i(()=>[n(P,{class:"text-h8"},{default:i(()=>e[6]||(e[6]=[x("ì§€ì—­ ì €ì¥")])),_:1,__:[6]}),n(M,null,{default:i(()=>[n(Ve,{onClose:e[2]||(e[2]=a=>u.value.location=!1)})]),_:1})]),_:1})]),_:1},8,["modelValue"])])):O("",!0)]),s("div",{class:"weather-card d-flex d-sm-none",style:q({backgroundImage:V.value})},null,4),s("div",Se,[s("div",{class:"weather-card",style:q({backgroundImage:V.value})},[l.value?(p(),v("div",Ie,[s("div",Te,[s("div",Ne,r(l.value.localName),1),s("div",We,r(l.value.villageSky)+" "+r(l.value.villageSky==="ë¹„"?l.value.ncstRh1+"(mm)":""),1)]),s("div",Me,[s("div",Be,[s("div",He,r(I.value),1),s("div",Ee,r(l.value.ncstTem===void 0?"":l.value.ncstTem+"â„ƒ"),1)]),s("div",Fe,r(l.value.villageTmn===void 0?"":"ìµœì € "+l.value.villageTmn+"Â° / ìµœê³  "+l.value.villageTmx+"Â°"),1),s("div",Ue,r(l.value.ncstReh===void 0?"":"ìŠµë„"+l.value.ncstReh+"%"),1)])])):O("",!0)],4)])],64))}},Oe=R(Ye,[["__scopeId","data-v-c45b5997"]]),Pe={class:"reminder"},Ae={class:"list-date"},ze={class:"list"},Ke={class:"reminder-title"},qe={key:1,class:"empty-wrapper"},Ge={__name:"HomeReminder",setup(_){const c=oe(),l=J({todayReminder:[]}),h=new Date,w=h.getFullYear(),u=h.getMonth()+1,f=h.getDate(),o=`${w}-${String(u).padStart(2,"0")}-${String(f).padStart(2,"0")}`;H(async()=>{const d=await re(w,u);if(d===void 0||d.status!==200){alert("ì˜¤ë¥˜ë°œìƒ");return}c.setFullReminder(d.data);const k=h.getDay();l.todayReminder=c.state.fullReminder.filter(m=>{const $=m.repeat===!1&&m.startDate===o,L=m.repeat&&m.repeatDow?.includes(k)&&m.startDate<=o&&(!m.endDate||m.endDate>=o)&&!m.exceptionDate?.includes(o);return $||L})});const g=()=>{c.setCurrentYear(w),c.setCurrentMonth(u),c.setSelectedDate(o),console.log("format",o)};return(d,k)=>{const m=ie("router-link");return p(),v(D,null,[k[1]||(k[1]=s("div",{class:"header flex justify-between items-center w-full px-4 pt-2"},[s("span",{class:"list-title px-4 py-1 text-white font-semibold text-sm"},"ì˜¤ëŠ˜ì˜ ì¼ì •")],-1)),s("div",Pe,[s("span",Ae,r(G(w))+"ë…„ "+r(u)+"ì›” "+r(G(f))+"ì¼",1),s("ul",ze,[n(m,{class:"link",to:"/reminder",onClick:g},{default:i(()=>[l.todayReminder.length>0?(p(!0),v(D,{key:0},A(l.todayReminder,$=>(p(),v("li",{key:$.id,class:"list-card"},[s("span",Ke,"â€¢ "+r($.title),1)]))),128)):(p(),v("li",qe,k[0]||(k[0]=[s("span",{class:"empty-comment"},'"ì˜¤ëŠ˜ì€ í•œê°€í•œ í•˜ë£¨ë„¤ìš”!"',-1)])))]),_:1})])])],64)}}},Je=R(Ge,[["__scopeId","data-v-628c56f4"]]),Qe={class:"home-layout"},Xe={class:"reminder-wrapper mt-6"},Ze={class:"report-wrapper mt-10"},et={__name:"Home",setup(_){return(c,l)=>(p(),v(D,null,[n(Oe,{class:"weather-layout"}),s("div",Qe,[s("div",Xe,[n(Je)]),s("div",Ze,[n(ue)])])],64))}},at=R(et,[["__scopeId","data-v-eb38fc03"]]);export{at as default};
