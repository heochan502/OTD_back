import{a as $,_ as b,r as x,c as f,o as D,b as u,d as j,e,f as R,t as r,g as C,w as S,h as B,n as F,F as k,i as c,u as H,j as I,k as L,l as N,m as w,p as T,R as V}from"./index-zeYRlWll.js";$.defaults.baseURL="/api/OTD";const E=()=>$.get("/weather").catch(m=>m.response),W=()=>$.get("/weather/info").catch(m=>m.response),Y={key:0,class:"weather-alert"},z={class:"header flex justify-between items-center w-full px-4 pt-2"},O={key:0,class:"weather-content"},U={class:"weather-left"},q={class:"weather-location"},A={class:"condition"},G={class:"weather-right"},J={class:"warp"},K={class:"weather-icon"},P={class:"temperature"},Q={class:"max_min_temperature"},X={class:"humidity"},Z={__name:"weather",setup(m){const t=x(null),d=x(!1),o=x(""),g=async()=>{const s=await E();t.value=s.data},h=async()=>{const s=await W();o.value=s.data.memberNick},v=f(()=>{const s=t.value.pop,n="오늘은 비올 확률이"+t.value.pop+" % !!",i=t.value.sky;return s<10&&i==="맑음"||s<10&&i==="구름 많음"?"오늘의 날씨는 "+i+"이네요! 즐거운 하루 보내세요.":s<30&&i==="맑음"||s<30&&i==="구름 많음"?n+"걱정 되신다면 우산을 챙기길 추천해요!":s<50||i==="흐림"?n+"비가 올 수도 있으니 휴대하기 편한 우산 챙기길 추천해요!":s<90?n+"우산 챙기셨나요? 우산 챙겨가세요!":s>90||i==="비"?n+"우산을 꼭 챙기고 빗길 조심하세요!":"오늘 하루도 화이팅!"}),p=()=>d.value=!d.value,l={맑음:"☀️",흐림:"☁️","구름 많음":"🌤️",비:"🌧️",눈:"❄️",비눈:"🌨️"},a=f(()=>l[t.value?.sky]||l.default),_=f(()=>{const s=new Date().getHours();return s>6&&s<19?"morning":s<22?"evening":"night"}),y={"맑음-morning":"url(src/image/weather/clear_morning.jpg)","맑음-evening":"url(src/image/weather/clear_afternoon.jpg)","맑음-night":"url(src/image/weather/clear_night.jpg)","구름 많음-morning":"url(src/image/weather/littlecloudy_morning.jpg)","구름 많음-evening":"url(src/image/weather/littlecloudy.jpg)","구름 많음-night":"url(src/image/weather/littlecloudy_night.jpg)","흐림-morning":"url(src/image/weather/cloudy.jpg)","흐림-evening":"url(src/image/weather/cloudy.jpg)","흐림-night":"url(src/image/weather/cloudy_night.jpg)","비-morning":"url(src/image/weather/rain.jpg)","비-evening":"url(src/image/weather/rain.jpg)","비-night":"url(src/image/weather/rain.jpg)",default:"url(src/image/weather/default.png)"},M=f(()=>{const s=t.value?.sky||"",n=_.value;return console.log("time",n),y[`${s}-${n}`]||y.default});return D(async()=>{h(),g()}),(s,n)=>{const i=B("router-link");return c(),u(k,null,[t.value?(c(),u("div",Y,[e("strong",null,r(o.value===""||o.value===void 0?"":o.value+"님~"),1),R(r(v.value),1)])):j("",!0),e("div",z,[n[1]||(n[1]=e("span",{class:"live px-4 py-1 text-white font-semibold text-sm"}," 실시간 날씨 정보 ",-1)),e("button",{onClick:p,class:"menu px-2 py-1 text-sm font-bold"}," ☰ 날씨 메뉴 "),d.value?(c(),C(i,{key:0,to:"/location",class:"menu-list"},{default:S(()=>n[0]||(n[0]=[R(" 지역 변경 ")])),_:1,__:[0]})):j("",!0)]),e("div",null,[e("div",{class:"weather-card",style:F({backgroundImage:M.value})},[t.value?(c(),u("div",O,[e("div",U,[e("div",q,r(t.value.localName),1),e("div",A,r(t.value.sky),1)]),e("div",G,[e("div",J,[e("div",K,r(a.value),1),e("div",P,r(t.value.tem===void 0?"날씨를 불러오지 못하였습니다....":t.value.tem+"℃"),1)]),e("div",Q,r(t.value.tmn===void 0?"":"최저 "+t.value.tmn+"° / 최고 "+t.value.tmx+"°"),1),e("div",X,r(t.value.reh===void 0?"":"습도"+t.value.reh+"%"),1)])])):j("",!0)],4)])],64)}}},ee=b(Z,[["__scopeId","data-v-56b3110d"]]),te={class:"reminder"},se={class:"list-date"},ae={class:"list"},ne={class:"reminder-title"},re={key:1,class:"empty-wrapper"},oe={__name:"ReminderHome",setup(m){const t=H(),d=I({todayReminder:[]}),o=new Date,g=o.getFullYear(),h=o.getMonth()+1,v=o.getDate();return D(async()=>{if(t.state.fullReminder.length===0){const a=await L(year,month);a&&a.status===200&&t.setFullReminder(a.data)}const p=`${g}-${String(h).padStart(2,"0")}-${String(v).padStart(2,"0")}`,l=o.getDay();d.todayReminder=t.state.fullReminder.filter(a=>{const _=a.date===p,y=a.repeat&&a.repeatDow?.includes(l)&&new Date(p)>=new Date(a.created);return _||y})}),(p,l)=>{const a=B("router-link");return c(),u(k,null,[l[1]||(l[1]=e("div",{class:"header flex justify-between items-center w-full px-4 pt-2"},[e("span",{class:"list-title px-4 py-1 text-white font-semibold text-sm"},"오늘의 일정")],-1)),e("div",te,[e("span",se,r(N(g))+"년 "+r(h)+"월 "+r(N(v))+"일",1),e("ul",ae,[w(a,{class:"link",to:"/reminder"},{default:S(()=>[d.todayReminder.length>0?(c(!0),u(k,{key:0},T(d.todayReminder,_=>(c(),u("li",{key:_.id,class:"list-card"},[e("span",ne,"• "+r(_.title),1)]))),128)):(c(),u("li",re,l[0]||(l[0]=[e("span",{class:"empty-comment"},'"오늘은 한가한 하루네요!"',-1)])))]),_:1})])])],64)}}},le=b(oe,[["__scopeId","data-v-331f731d"]]),ie={class:"home-layout"},ce={class:"reminder-wrapper mt-6"},de={class:"report-wrapper mt-10"},ue={__name:"Home",setup(m){return(t,d)=>(c(),u(k,null,[w(ee),e("div",ie,[e("div",ce,[w(le)]),e("div",de,[w(V)])])],64))}},_e=b(ue,[["__scopeId","data-v-aaebee8f"]]);export{_e as default};
